<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>VFind - Profil</title>
  <link rel="stylesheet" href="style/main.css"/>
</head>
<body class="vfind-bg">
  <header>
    <h1>👤 Mon Profil</h1>
    <nav>
      <a href="index.html">🏠 Accueil</a>
      <a href="historique.html">📜 Historique</a>
    </nav>
  </header>

  <main>
    <section class="profil-info">
      <p><strong>Pseudo :</strong> <span id="pseudo">Invité</span></p>
      <p><strong>Points :</strong> <span id="points">0</span></p>
      <p><strong>Cadre sélectionné :</strong> <span id="cadre-actuel">Aucun</span></p>
      <p><strong>Statut :</strong> <span id="premium-status">Chargement...</span></p>
    </section>

    <section class="cadres-possedes">
      <h2>🎨 Mes cadres</h2>
      <div class="grid-cadres" id="cadres-list"></div>
    </section>

    <div id="user-nickname">Chargement du pseudo...</div>

    <section class="likes-section">
      <h2>❤️ Photos aimées</h2>
      <div class="photo-gallery" id="liked-photos-gallery"></div>
    </section>

    <section class="signaled-section">
      <h2>🚩 Photos signalées</h2>
      <div class="photo-gallery" id="signaled-photos-gallery"></div>
    </section>
  </main>

  <footer>
    <p>© 2025 VFind</p>
  </footer>

  <!-- ✅ Chargement des scripts -->
  <script src="js/userData.js"></script>
  <script src="js/4915ddc2-ae83-493f-9cc5-781838ea988c.js"></script>
  <script>
    // Chargement des données du profil
    const data = getUserData();
    document.getElementById("pseudo").textContent = data.pseudo;
    document.getElementById("points").textContent = data.coins;
    document.getElementById("premium-status").textContent = data.premium ? "🌟 Premium actif" : "🆓 Compte gratuit";

    // Cadre actif affiché
    const cadreActif = localStorage.getItem("cadre_selectionne") || "polaroid_01";
    fetch('./data/cadres.json')
      .then(res => res.json())
      .then(json => {
        const info = json.find(c => c.id === cadreActif);
        document.getElementById("cadre-actuel").textContent = info ? info.nom : cadreActif;
      })
      .catch(() => {
        document.getElementById("cadre-actuel").textContent = cadreActif;
      });

    // Affichage des cadres (réutilise le même JS que la boutique)
    afficherCadresDans("cadres-list");
  </script>
</body>
</html>
